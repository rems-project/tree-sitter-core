-- Aggregates
def union _G_fpos64_t :=
  __opaque: 'char[16]'
  __lldata: 'signed long_long'
  __align: 'double'

-- Globals
glob a_674: pointer [ail_ctype = 'char[8]'] :=
  create_readonly(Ivalignof('char[8]'), 'char[8]', Specified(Array(Specified(conv_int('char',
  80)), Specified(conv_int('char', 116)), Specified(conv_int('char', 114)),
  Specified(conv_int('char', 32)), Specified(conv_int('char', 37)),
  Specified(conv_int('char', 115)), Specified(conv_int('char', 10)),
  Specified(0))))

glob a_693: pointer [ail_ctype = 'char[3]'] :=
  create_readonly(Ivalignof('char[3]'), 'char[3]', Specified(Array(Specified(conv_int('char',
  101)), Specified(conv_int('char', 113)), Specified(0))))

glob a_696: pointer [ail_ctype = 'char[4]'] :=
  create_readonly(Ivalignof('char[4]'), 'char[4]', Specified(Array(Specified(conv_int('char',
  110)), Specified(conv_int('char', 101)), Specified(conv_int('char', 113)),
  Specified(0))))

-- Fun map
proc main (): eff loaded integer :=
  let strong f: pointer =
    create(Ivalignof('void (*) (signed int)'), 'void (*) (signed int)') in
  let strong x: pointer =
    create(Ivalignof('unsigned long'), 'unsigned long') in
  let strong a_652: loaded pointer =
    {- §6.5#2 -}
    bound(
      {- §6.5.4 -}
      let weak a_653: loaded integer =
        {- §6.5.3.3#3 -}
        let weak a_656: loaded integer = pure(Specified(1)) in
        pure(
          let Specified(a_655: integer) = a_656 in
          Specified(catch_exceptional_condition('signed int',
          0 - conv_int('signed int', a_655)))
        ) in
      let Specified(a_654: integer) = a_653 in
      let weak a_657: pointer =
        memop(PtrFromInt, 'signed int', 'void ()(signed int)', a_654) in
      pure(Specified(a_657))
    ) in
  store('void (*) (signed int)', f, a_652) ;
  let strong a_658: loaded integer =
    {- §6.5#2 -}
    bound(
      {- §6.5.4 -}
      let weak a_659: loaded pointer =
        let weak a_661: pointer = pure(f) in
        load('void (*) (signed int)', a_661) in
      let Specified(a_660: pointer) = a_659 in
      let weak a_662: integer =
        memop(IntFromPtr, 'void ()(signed int)', 'unsigned long', a_660) in
      pure(Specified(a_662))
    ) in
  store('unsigned long', x, conv_loaded_int('unsigned long', a_658)) ;
  let strong _: loaded integer =
    {- §6.5#2 -}
    bound(
      {- §6.5.2.2#10, sentence 1 -}
      let strong ((a_663: loaded pointer,
      (a_664: ctype, a_665: [ctype], a_666: boolean, a_667: boolean)),
      a_671: loaded pointer, a_673: loaded pointer, a_677: loaded pointer) =
        {- §6.5.2.2#4, sentence 2 -}
        unseq(
          let strong a_651: loaded pointer =
            pure(Specified(Cfunction(fprintf))) in
          pure((a_651, cfunction(a_651)))
        ,
          let weak a_672: pointer = pure(__stderr) in
          load('struct _IO_FILE*', a_672)
        ,
          let weak a_675: pointer = pure(a_674) in
          {- §6.3.2.1#3 -}
          let weak a_676: pointer = memop(PtrArrayShift, a_675, 'char', 0) in
          pure(Specified(a_676))
        ,
          {- §6.5.15#4, sentence 1 -}
          let strong a_691: loaded integer =
            let weak (a_678: loaded integer, a_679: loaded integer) =
              unseq(
                let weak (a_683: loaded integer, a_684: loaded integer) =
                  unseq(
                    let weak a_688: pointer = pure(x) in
                    load('unsigned long', a_688)
                  ,
                    {- §6.5.3.3#3 -}
                    let weak a_690: loaded integer = pure(Specified(1)) in
                    pure(
                      let Specified(a_689: integer) = a_690 in
                      Specified(catch_exceptional_condition('signed int',
                      0 - conv_int('signed int', a_689)))
                    )
                  ) in
                pure(
                  let (Specified(a_685: integer), Specified(a_686: integer)) =
                    (a_683, a_684) in
                  if conv_int('unsigned long', a_685) =
                  conv_int('unsigned long', a_686) then
                    Specified(1)
                  else
                    Specified(0)
                )
              ,
                pure(Specified(0))
              ) in
            pure(
              let (Specified(a_680: integer), Specified(a_681: integer)) =
                (a_678, a_679) in
              if conv_int('signed int', a_680) = conv_int('signed int', a_681) then
                Specified(1)
              else
                Specified(0)
            ) in
          let Specified(a_692: integer) = a_691 in
          {- §6.5.15#4, sentence 2 -}
          if a_692 = 0 then
            let weak a_694: pointer = pure(a_693) in
            {- §6.3.2.1#3 -}
            let weak a_695: pointer =
              memop(PtrArrayShift, a_694, 'char', 0) in
            pure(Specified(a_695))
          else
            let weak a_697: pointer = pure(a_696) in
            {- §6.3.2.1#3 -}
            let weak a_698: pointer =
              memop(PtrArrayShift, a_697, 'char', 0) in
            pure(Specified(a_698))
        ) in
      if not(params_length(a_665) <= 3) then
        pure(undef(<<UB038_number_of_args>>))
      else
        if not(a_666) \/ not(are_compatible ('signed int', a_664)) then
          pure(undef(<<UB041_function_not_compatible>>))
        else
          let strong a_670: pointer =
            let a_699: ctype = params_nth(a_665, 0) in
            if not(are_compatible ('struct _IO_FILE*', a_699)) then
              pure(undef(<<UB041_function_not_compatible>>))
            else
              {- §6.5.2.2#7, sentence 1 -}
              let weak a_700: pointer = create(Ivalignof(a_699), a_699) in
              let weak _: unit = store(a_699, a_700, a_671) in
              pure(a_700) in
          let strong a_669: pointer =
            let a_701: ctype = params_nth(a_665, 1) in
            if not(are_compatible ('const char*', a_701)) then
              pure(undef(<<UB041_function_not_compatible>>))
            else
              {- §6.5.2.2#7, sentence 1 -}
              let weak a_702: pointer = create(Ivalignof(a_701), a_701) in
              let weak _: unit = store(a_701, a_702, a_673) in
              pure(a_702) in
          let strong a_668: pointer =
            {- §6.5.2.2#7, sentences 2 and 3 -}
            pcall(create_and_store, 'char*', a_677) in
          let strong a_703: loaded integer =
            ccall('signed int (*) (struct _IO_FILE*restrict , const char*restrict , ...)',
            a_663, a_670, a_669, [('char*', a_668)]) in
          let strong _: (unit,unit,unit) =
            unseq(
              kill('struct _IO_FILE*', a_670)
            ,
              kill('char*', a_669)
            ,
              kill('char*', a_668)
            ) in
          pure(a_703)
    ) in
  pure(Unit) ;
  kill('void (signed int)*', f) ;
  kill('unsigned long', x) ;
  pure(Unit) ;
  save ret_650: loaded integer (a_704: loaded integer:= Specified(0)) in
    pure(a_704)

