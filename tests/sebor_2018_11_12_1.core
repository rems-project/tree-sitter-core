-- Globals
glob offset: pointer [ail_ctype = 'uintptr_t'] :=
  let strong a_607: pointer = create(Ivalignof('uintptr_t'), 'uintptr_t') in
  let strong a_608: loaded integer =
    {- §6.5#2 -}
    bound(pure(Specified(4))) in
  store('uintptr_t', a_607, conv_loaded_int('uintptr_t', a_608)) ;
  pure(a_607)

-- Fun map
proc f (): eff unit :=
  let strong x: pointer = create(Ivalignof('signed int'), 'signed int') in
  let strong y: pointer = create(Ivalignof('signed int'), 'signed int') in
  let strong save_y: pointer =
    create(Ivalignof('signed int'), 'signed int') in
  let strong ux: pointer = create(Ivalignof('uintptr_t'), 'uintptr_t') in
  let strong uy: pointer = create(Ivalignof('uintptr_t'), 'uintptr_t') in
  let strong p: pointer = create(Ivalignof('signed int*'), 'signed int*') in
  let strong q: pointer = create(Ivalignof('signed int*'), 'signed int*') in
  let strong a_549: loaded integer =
    {- §6.5#2 -}
    bound(pure(Specified(1))) in
  store('signed int', x, conv_loaded_int('signed int', a_549)) ;
  let strong a_550: loaded integer =
    {- §6.5#2 -}
    bound(pure(Specified(2))) in
  store('signed int', y, conv_loaded_int('signed int', a_550)) ;
  let strong a_551: loaded integer =
    {- §6.5#2 -}
    bound(
      let weak a_552: pointer = pure(y) in
      load('signed int', a_552)
    ) in
  store('signed int', save_y, conv_loaded_int('signed int', a_551)) ;
  let strong a_553: loaded integer =
    {- §6.5#2 -}
    bound(
      {- §6.5.4 -}
      let weak a_554: loaded pointer =
        {- §6.5.3.2#3, sentence 5 -}
        let weak a_556: pointer = pure(x) in
        pure(Specified(a_556)) in
      let Specified(a_555: pointer) = a_554 in
      let weak a_557: integer =
        memop(IntFromPtr, 'signed int', 'uintptr_t', a_555) in
      pure(Specified(a_557))
    ) in
  store('uintptr_t', ux, conv_loaded_int('uintptr_t', a_553)) ;
  let strong a_558: loaded integer =
    {- §6.5#2 -}
    bound(
      {- §6.5.4 -}
      let weak a_559: loaded pointer =
        {- §6.5.3.2#3, sentence 5 -}
        let weak a_561: pointer = pure(y) in
        pure(Specified(a_561)) in
      let Specified(a_560: pointer) = a_559 in
      let weak a_562: integer =
        memop(IntFromPtr, 'signed int', 'uintptr_t', a_560) in
      pure(Specified(a_562))
    ) in
  store('uintptr_t', uy, conv_loaded_int('uintptr_t', a_558)) ;
  let strong a_563: loaded pointer =
    {- §6.5#2 -}
    bound(
      {- §6.5.4 -}
      let weak a_564: loaded integer =
        {- §6.5.6 -}
        let weak (a_566: loaded integer, a_567: loaded integer) =
          unseq(
            let weak a_571: pointer = pure(ux) in
            load('uintptr_t', a_571)
          ,
            let weak a_572: pointer = pure(offset) in
            load('uintptr_t', a_572)
          ) in
        pure(
          let (Specified(a_568: integer), Specified(a_569: integer)) =
            (a_566, a_567) in
          Specified(wrapI('uintptr_t',
          conv_int('uintptr_t', a_568) + conv_int('uintptr_t', a_569)))
        ) in
      let Specified(a_565: integer) = a_564 in
      let weak a_573: pointer =
        memop(PtrFromInt, 'uintptr_t', 'signed int', a_565) in
      pure(Specified(a_573))
    ) in
  store('signed int*', p, a_563) ;
  let strong a_574: loaded pointer =
    {- §6.5#2 -}
    bound(
      {- §6.5.3.2#3, sentence 5 -}
      let weak a_575: pointer = pure(y) in
      pure(Specified(a_575))
    ) in
  store('signed int*', q, a_574) ;
  let strong a_576: loaded integer =
    {- §6.5#2 -}
    bound(
      let weak (a_578: loaded integer, a_579: loaded integer) =
        unseq(
          let weak (a_583: loaded pointer, a_584: loaded pointer) =
            unseq(
              let weak a_588: pointer = pure(p) in
              load('signed int*', a_588)
            ,
              let weak a_589: pointer = pure(q) in
              load('signed int*', a_589)
            ) in
          let (Specified(a_585: pointer), Specified(a_586: pointer)) =
            (a_583, a_584) in
          let weak a_587: boolean = memop(PtrEq, a_585, a_586) in
          pure(if a_587 then Specified(1) else Specified(0))
        ,
          pure(Specified(0))
        ) in
      pure(
        let (Specified(a_580: integer), Specified(a_581: integer)) =
          (a_578, a_579) in
        if conv_int('signed int', a_580) = conv_int('signed int', a_581) then
          Specified(1)
        else
          Specified(0)
      )
    ) in
  let strong a_548: boolean =
    let Specified(a_577: integer) = a_576 in
    pure(if not(a_577 = 1) then True else False) in
  if a_548 then
    let strong _: loaded integer =
      {- §6.5#2 -}
      bound(
        {- §6.5.16#3, sentence 4 -}
        let weak (a_591: pointer, a_596: loaded integer) =
          {- §6.5.16#3, sentence 5 -}
          unseq(
            {- §6.5.3.2 -}
            let weak a_592: loaded pointer =
              let weak a_595: pointer = pure(p) in
              load('signed int*', a_595) in
            let Specified(a_593: pointer) = a_592 in
            let weak a_594: boolean =
              memop(PtrValidForDeref, 'signed int', a_593) in
            pure(
              if a_594 then
                a_593
              else
                undef(<<UB043_indirection_invalid_value>>)
            )
          ,
            pure(Specified(11))
          ) in
        let weak _: unit =
          {- §6.5.16.1#2, store -}
          neg(store('signed int', a_591, conv_loaded_int('signed int', a_596))) in
        pure(conv_loaded_int('signed int', a_596))
      ) in
    pure(Unit) ;
    {- §6.5#2 -}
    bound(
      let strong a_590: loaded integer =
        let weak (a_599: loaded integer, a_600: loaded integer) =
          unseq(
            let weak a_604: pointer = pure(y) in
            load('signed int', a_604)
          ,
            let weak a_605: pointer = pure(save_y) in
            load('signed int', a_605)
          ) in
        pure(
          let (Specified(a_601: integer), Specified(a_602: integer)) =
            (a_599, a_600) in
          if conv_int('signed int', a_601) = conv_int('signed int', a_602) then
            Specified(1)
          else
            Specified(0)
        ) in
      pure(
        let Specified(a_597: integer) = a_590 in
        if a_597 = 0 then error("assert() failure", Unit) else Unit
      )
    ) ;
    pure(Unit) ;
    pure(Unit)
  else
    pure(Unit) ;
  kill('signed int', x) ;
  kill('signed int', y) ;
  kill('signed int', save_y) ;
  kill('uintptr_t', ux) ;
  kill('uintptr_t', uy) ;
  kill('signed int*', p) ;
  kill('signed int*', q) ;
  pure(Unit) ;
  save ret_547: unit (a_606: unit:= Unit) in  pure(a_606)

proc main (): eff loaded integer :=
  {- §6.5#2 -}
  bound(
    let strong a_543: loaded pointer = pure(Specified(Cfunction(f))) in
    let (a_544: ctype, a_545: [ctype], _: boolean, _: boolean) =
      cfunction(a_543) in
    if params_length(a_545) = 0 then
      if are_compatible ('void', a_544) then
        ccall('void (*) (void)', a_543)
      else
        pure(undef(<<UB041_function_not_compatible>>))
    else
      pure(undef(<<UB038_number_of_args>>))
  ) ;
  pure(Unit) ;
  pure(Unit) ;
  save ret_542: loaded integer (a_546: loaded integer:= Specified(0)) in
    pure(a_546)

